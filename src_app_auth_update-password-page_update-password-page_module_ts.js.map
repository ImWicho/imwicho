{"version":3,"file":"src_app_auth_update-password-page_update-password-page_module_ts.js","mappings":"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","sources":["./src/app/auth/update-password-page/update-password-page-routing.module.ts","./src/app/auth/update-password-page/update-password-page.module.ts","./src/app/auth/update-password-page/update-password-page.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { UpdatePasswordPagePage } from './update-password-page.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UpdatePasswordPagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class UpdatePasswordPagePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UpdatePasswordPagePageRoutingModule } from './update-password-page-routing.module';\r\n\r\nimport { UpdatePasswordPagePage } from './update-password-page.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    UpdatePasswordPagePageRoutingModule\r\n  ],\r\n  declarations: [UpdatePasswordPagePage]\r\n})\r\nexport class UpdatePasswordPagePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DataHttp, ErrorResponse } from 'src/app/shared/interfaces/errors-http';\r\nimport { ToastService } from 'src/app/shared/services/toast.service';\r\nimport { IUpdatePassword } from '../interface/iupdate-password';\r\nimport { LoginServiceService } from '../services/login-service.service';\r\n\r\n@Component({\r\n  selector: 'app-update-password-page',\r\n  templateUrl: './update-password-page.page.html',\r\n  styleUrls: ['./update-password-page.page.scss'],\r\n})\r\nexport class UpdatePasswordPagePage implements OnInit {\r\n\r\n  dataInputs: IUpdatePassword = { email: '', password: '', password_confirmation: ''};\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private service: LoginServiceService,\r\n    private toast: ToastService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  updatePassword(): void {\r\n    if (this.validateInputs()) {\r\n      if (!this.checkPassword()) { return; }\r\n      this.service.changePassword(this.dataInputs).subscribe((res: DataHttp) => {\r\n        if (res.status) {\r\n          this.toast.showToast(res.message, 2000, 'checkmark-outline', 'success').then(\r\n            () => this.router.navigateByUrl('/login')\r\n          );\r\n        }\r\n      }, (error: ErrorResponse) => {\r\n        this.toast.showToast(error.error.message, 2000, 'close-outline', 'danger');\r\n      });\r\n    } else {\r\n      this.toast.showToast('Favor de llenar los campos', 2000, 'warning-outline', 'warning');\r\n    }\r\n  }\r\n\r\n  private validateInputs(): boolean {\r\n    const email = this.dataInputs.email.trim();\r\n    const password = this.dataInputs.password.trim();\r\n    const password_confirmation = this.dataInputs.password_confirmation.trim();\r\n    return (\r\n      this.dataInputs.email &&\r\n      this.dataInputs.password &&\r\n      this.dataInputs.password_confirmation &&\r\n      email.length > 0 &&\r\n      password.length > 0 &&\r\n      password_confirmation.length > 0\r\n    );\r\n  }\r\n\r\n  private checkPassword(): boolean {\r\n    if (this.dataInputs.password !== this.dataInputs.password_confirmation) {\r\n      this.toast.showToast('La contraseña y confirmar contraseña no son iguales.', 2000, 'warning-outline', 'warning');\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}